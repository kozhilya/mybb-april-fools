var __extends=this&&this.__extends||function(){var o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}))(t,e)};return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};define("joke",["require","exports"],function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopableJoke=e.Joke=void 0;function n(){}e.Joke=n,__extends(s,o=n);var o,r=s;function s(){return null!==o&&o.apply(this,arguments)||this}e.StopableJoke=r}),define("handler",["require","exports"],function(t,e){"use strict";function n(){this.jokes={}}Object.defineProperty(e,"__esModule",{value:!0}),e.AprilFoolsJokeClass=void 0,n.check=function(t){return Math.random()<.01*t},n.prototype.add=function(t){this.jokes[t.id]=t},n.prototype.setSettings=function(t){for(var e=0,n=Object.entries(t);e<n.length;e++){var o=n[e],r=o[0],o=o[1];this.jokes[r].settings=__assign(__assign({},this.jokes[r].settings),o)}},n.prototype.start=function(t,e){void 0===e&&(e=!1),t in this.jokes&&(t=this.jokes[t],e||n.check(t.settings.chance))&&t.start()},n.prototype.startAll=function(){for(var t=0,e=Object.keys(this.jokes);t<e.length;t++){var n=e[t];this.start(n)}},e.AprilFoolsJokeClass=n}),define("jokes/shake",["require","exports","joke","jquery"],function(t,e,n,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShakeJokeSettings=e.ShakeJoke=void 0,a=__importDefault(a);o=n.StopableJoke,__extends(r,o),r.prototype.rand=function(t){return t+this.settings.force*(2*Math.random()-1)},r.prototype.start=function(){var i=this;this.items=(0,a.default)(this.settings.selector),this.items.each(function(t,e){var n={};i.settings.directions.forEach(function(t){n[t]=parseInt((0,a.default)(e).css("margin-"+t))}),(0,a.default)(e).data(i.data_name,n)}),this.interval_id=setInterval(function(){i.items.each(function(t,e){for(var n=(0,a.default)(e).data(i.data_name),o=0,r=Object.entries(n);o<r.length;o++){var s=r[o];(0,a.default)(e).css("margin-"+s[0],i.rand(s[1]))}})},this.settings.interval)},r.prototype.stop=function(){var o=this;clearInterval(this.interval_id),this.items.each(function(t,e){var n={};o.settings.directions.forEach(function(t){(0,a.default)(e).css("margin-"+t,n[t])}),(0,a.default)(e).data(o.data_name,n)})};var o,n=r;function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.data_name="april-fools-shake",t}e.ShakeJoke=n,e.ShakeJokeSettings=function(){this.chance=1,this.directions=["top","left","bottom","left"],this.selector="[id^=pun]",this.interval=100,this.force=.5}}),define("jokes/humanitarian_hell",["require","exports","joke","jquery"],function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HumanitarianHellJokeSettings=e.HumanitarianHellJoke=void 0,o=__importDefault(o);r=n.Joke,__extends(s,r),s.prototype.start=function(){(0,o.default)(this.settings.selector).each(function(){(0,o.default)(this).html((0,o.default)(this).html().replace(/(ть?ся)/g,function(t){return 0<t.indexOf("ь")?"тся":"ться"}))})};var r,n=s;function s(){return null!==r&&r.apply(this,arguments)||this}e.HumanitarianHellJoke=n,e.HumanitarianHellJokeSettings=function(){this.chance=20,this.selector=".post-content"}}),define("jokes/mirror",["require","exports","joke","jquery"],function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorJokeSettings=e.MirrorJoke=void 0,o=__importDefault(o);r=n.Joke,__extends(s,r),s.prototype.start=function(){(0,o.default)(".post, .post h3, .post-links, .post-author, .post-content").css("transform","scaleX(-1)").css("-moz-transform","scaleX(-1)").css("-moz-transform","scaleX(-1)").css("filter","FlipH").css("-ms-filter",'"FlipH"'),(0,o.default)(".post-links, .post-links ul, .post h3 span").css("margin-left","0"),(0,o.default)(".post h3 span").css("margin-right","25em")};var r,n=s;function s(){return null!==r&&r.apply(this,arguments)||this}e.MirrorJoke=n,e.MirrorJokeSettings=function(){this.chance=30}}),define("jokes/carnival",["require","exports","joke","jquery","handler"],function(t,e,n,a,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CarnivalJokeSettings=e.CarnivalJoke=void 0,a=__importDefault(a);o=n.Joke,__extends(r,o),r.prototype.start=function(){var i=this;(0,a.default)(this.settings.selector).each(function(t,e){for(var n=[],o=0,r=Object.entries(i.settings.variants);o<r.length;o++){var s=r[o];u.AprilFoolsJokeClass.check(i.settings.variant_chance)&&n.push(s[0].replace("{0}",Math.round(Math.random()*s[1]).toString()))}0<n.length&&(0,a.default)(e).css("filter",n.join(" "))})};var o,n=r;function r(){return null!==o&&o.apply(this,arguments)||this}e.CarnivalJoke=n,e.CarnivalJokeSettings=function(){this.chance=30,this.selector='img[src*="/avatars/"]',this.variant_chance=20,this.variants={"sepia({0}%)":100,"saturate({0}%)":100,"hue-rotate({0}deg)":360,"invert({0}%)":100}}}),define("jokes/crazy_letters",["require","exports","joke","jquery"],function(t,e,n,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CrazyLettersJokeSettings=e.CrazyLettersJoke=void 0,i=__importDefault(i);o=n.Joke,__extends(r,o),r.prototype.start=function(){var s=this;(0,i.default)(this.settings.selector).each(function(t,e){for(var n=(0,i.default)(s).text(),o="",r=0;r<n.length;r++)o+=n[r][r%2?"toLowerCase":"toUpperCase"]();(0,i.default)(s).text(o)})};var o,n=r;function r(){return null!==o&&o.apply(this,arguments)||this}e.CrazyLettersJoke=n,e.CrazyLettersJokeSettings=function(){this.chance=20,this.selector=".pa-author a"}}),define("jokes/crazy_punctuation",["require","exports","joke","jquery"],function(t,e,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CrazyPunctuationJokeSettings=e.CrazyPunctuationJoke=void 0,o=__importDefault(o);r=n.Joke,__extends(s,r),s.prototype.transform=function(t){for(var e="",n=0;n<t.length;n++){var o=t[n],r=t[n+1];!this.settings.symbols.includes(o)&&" "!==r&&!this.settings.symbols.includes(r)||(e+=o)}return e},s.prototype.process=function(t){},s.prototype.start=function(){(0,o.default)(this.settings.selector).find("*").contents().filter(function(t,e){return e.nodeType===Node.TEXT_NODE}).each(function(t,e){console.log(e)})};var r,n=s;function s(){return null!==r&&r.apply(this,arguments)||this}e.CrazyPunctuationJoke=n,e.CrazyPunctuationJokeSettings=function(){this.chance=20,this.selector=".post-content",this.symbols=",.;:?!-()[]{}'\""}}),define("main",["require","exports","handler","jokes/shake","jokes/humanitarian_hell","jokes/mirror","jokes/carnival","jokes/crazy_letters","jokes/crazy_punctuation"],function(t,e,n,o,r,s,i,a,u){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),window.AprilJokes=(e=[o.ShakeJoke,r.HumanitarianHellJoke,s.MirrorJoke,i.CarnivalJoke,a.CrazyLettersJoke,u.CrazyPunctuationJoke],c=new n.AprilFoolsJokeClass,e.forEach(function(t){c.add(new t)}),c)});